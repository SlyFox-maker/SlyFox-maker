<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Egor Pavlov - Portfolio</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
        <style>
            body {
                background-color: #0e0e0e;
                color: #f0f0f0;
                font-family: "Fira Code", monospace;
            }
            .neon-text {
                color: #00ffff;
                text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 20px #0ff;
            }
            a {
                color: #00bcd4;
            }
            .navbar {
                background: #000 !important;
            }
            .card {
                background-color: #1b1b1b;
            }
            @keyframes neonGlow {
                0%,
                100% {
                    text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 20px #0ff, 0 0 30px #00ffff, 0 0 40px #00ffff, 0 0 50px #00ffff, 0 0 60px #00ffff;
                    color: #00ffff;
                }
                50% {
                    text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 30px #ff69b4, 0 0 40px #ff69b4, 0 0 50px #ff69b4, 0 0 60px #ff69b4;
                    color: #ff69b4;
                }
            }
            .neon-glow {
                animation: neonGlow 2s infinite alternate;
            }
        </style>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js"></script>
        <style>
            /* Добавлено */
            .modal {
                display: none;
                position: fixed;
                z-index: 9999;
                left: 0;
                top: 0;
                width: 100vw;
                height: 100vh;
                background-color: rgba(0, 0, 0, 0.9);
                justify-content: center;
                align-items: center;
                padding: 20px;
            }
            .modal-content {
                background-color: #111;
                padding: 20px;
                border-radius: 10px;
                max-width: 90vw;
                max-height: 90vh;
                overflow: auto;
                box-shadow: 0 0 30px #0ff;
                color: #0ff;
            }
            .modal-close {
                position: absolute;
                top: 20px;
                right: 30px;
                font-size: 2rem;
                color: #0ff;
                cursor: pointer;
            }
            .project-card {
                cursor: pointer;
                padding: 15px;
                margin: 10px 0;
                background: rgba(0, 255, 255, 0.1);
                border: 1px solid #0ff;
                border-radius: 12px;
                transition: all 0.3s ease;
            }
            .project-card:hover {
                background: rgba(0, 255, 255, 0.2);
                transform: scale(1.02);
            }
            .contact-info {
                margin-top: 60px;
                border-top: 1px solid #0ff;
                padding-top: 20px;
                display: flex;
                gap: 20px;
                justify-content: center;
                font-size: 1.2rem;
                color: #0ff;
            }
            .contact-info a {
                color: #0ff;
                text-decoration: none;
            }
            .modal {
                display: flex;
                position: fixed;
                z-index: 9999;
                left: 0;
                top: 0;
                width: 100vw;
                height: 100vh;
                background-color: rgba(0, 0, 0, 0.9);
                justify-content: center;
                align-items: center;
                padding: 20px;
            }
            .modal-content {
                background-color: #111;
                padding: 20px;
                border-radius: 10px;
                max-width: 90vw;
                max-height: 90vh;
                overflow: auto;
                box-shadow: 0 0 30px #0ff;
                color: #0ff;
                position: relative;
            }
            .modal-close {
                position: absolute;
                top: 15px;
                right: 15px;
                font-size: 2rem;
                color: #0ff;
                cursor: pointer;
                background: transparent;
                border: none;
            }
            .modal-body {
                display: flex;
                flex-direction: row;
                gap: 30px;
                align-items: flex-start;
                justify-content: center;
                flex-wrap: wrap;
                padding: 20px;
            }

            .modal-img {
                border-radius: 10px;
                flex-shrink: 0;
            }

            .modal-desc {
                flex: 1;
                font-family: "Fira Code", monospace;
                font-size: 16px;
                margin-top: 10px;
                max-width: 500px;
                word-wrap: break-word;
            }
        </style>
    </head>
    <body>
        <div id="app">
            <nav class="navbar navbar-expand-lg navbar-dark">
                <a class="navbar-brand" href="#">Egor Pavlov</a>
                <div class="ml-auto">
                    <button class="btn btn-sm btn-outline-info mx-1" @click="setLang('en')">EN</button>
                    <button class="btn btn-sm btn-outline-info mx-1" @click="setLang('es')">ES</button>
                    <button class="btn btn-sm btn-outline-info mx-1" @click="setLang('ru')">RU</button>
                </div>
            </nav>

            <div class="container py-5 animate__animated animate__fadeIn">
                <h1 ref="title" class="display-4 neon-text mb-4">{{ t('title') }}</h1>
                <p ref="intro" class="lead">{{ t('intro') }}</p>

                <section class="my-5">
                    <h2 ref="skills" class="h4 border-bottom border-info pb-2">{{ t('skills') }}</h2>
                    <ul ref="skillsList"></ul>
                </section>

                <section id="certificates" class="my-5">
                    <h2 ref="certs" class="h4 border-bottom border-info pb-2" style="color: #0ff">{{ t('certificates') }}</h2>
                    <ul>
                        <li v-for="cert in currentTranslations.certs_list" :key="cert.file">
                            <a href="#" @click.prevent="openImage(cert)">{{ cert.name }}</a>
                        </li>
                    </ul>
                </section>

                <section id="projects" class="my-5">
                    <h2 ref="projects" class="h4 border-bottom border-info pb-2" style="color: #0ff">{{ t('projects') }}</h2>
                    <div class="project-card" onclick="openProject('Cyber CRM', 'Моя кастомная CRM с интеграцией в Bitrix24.', 'img/cybercrm.png')">Cyber CRM</div>
                    <div class="project-card" onclick="openProject('Flang Delivery', 'Платформа для доставки еды с API.', 'img/flang.png')">Flang Delivery</div>
                </section>

                <div class="contact-info">
                    <a href="mailto:egor@example.com"><i class="fa fa-envelope"></i> Email</a>
                    <a href="https://t.me/egor_pavlov"><i class="fa fa-paper-plane"></i> Telegram</a>
                    <a href="https://github.com/egorpavlov"><i class="fa fa-github"></i> GitHub</a>
                </div>

                <ul>
                    <li v-for="cert in currentTranslations.certs_list" :key="cert.file">
                        <a href="#" @click.prevent="openPDF(cert.file)">{{ cert.name }}</a>
                    </li>
                </ul>

                <!-- Модалка -->
                <div id="modal" class="modal" v-show="modalVisible" @click.self="closeModal">
                    <div class="modal-content animate__animated animate__fadeInDown">
                        <button class="modal-close" @click="closeModal">&times;</button>

                        <div id="modal-body" class="modal-body">
                            <img :src="modalImage" alt="Certificate" class="modal-img" />
                            <div class="modal-desc" ref="descText"></div>
                        </div>
                    </div>
                </div>

                <footer class="text-center mt-5 pt-3 border-top border-info">
                    <small>© 2025 Egor Pavlov — <a href="https://github.com/your-username" target="_blank">GitHub</a></small>
                </footer>
            </div>
        </div>

        <script>
            new Vue({
                el: "#app",
                data: {
                    lang: "en",
                    translations: {
                        en: {
                            title: "Versatile Fullstack & DevOps Engineer",
                            intro: "Hi! I'm Egor Pavlov — a full-cycle developer working across web, desktop, and infrastructure layers. I design and build end-to-end software solutions with a focus on architecture, efficiency, and visual polish. Whether it's a complex integration, backend logic, or automation pipeline — I bring the code to life with engineering mindset and creative precision.",
                            skills: "Key Skills",
                            skills_list: ["Fullstack development (frontend + backend)", "Languages: C++, C#, Python, Java, JavaScript, PHP", "Frameworks & libraries: Django, Vue.js, Node.js, Qt, .NET", "Desktop apps: Qt, WinForms, JavaFX, .NET", "DevOps: Linux, Git, Docker, CI/CD, automation", "CRM/API integrations (Bitrix24, amoCRM, custom webhooks)", "Databases: PostgreSQL, MySQL, SQLite, MongoDB", "Working with REST APIs, JSON, XML, WebSocket"],
                            projects: "Projects",
                            project_list: [
                                { title: "Minecraft Plugin", desc: "A survival overhaul with custom NPCs and storylines." },
                                { title: "File Sharing Site", desc: "My own Google Drive clone using Django." },
                                { title: "CRM Automation", desc: "Bitrix/Kommo integrations and workflow automation." },
                                { title: "Booking Platform", desc: "Current development for internal company booking tool." },
                            ],
                            certs: "Certificates",
                            certs_list: ["Cisco CCNA", "Python for Everybody", "Bitrix24 API", "Frontend Basics"],
                            degree: "Degree",
                            degree_text: "Final semester of university — almost graduated!",
                        },

                        es: {
                            title: "Ingeniero Fullstack y DevOps versátil",
                            intro: "¡Hola! Soy Egor Pavlov — un desarrollador de ciclo completo que trabaja en todos los niveles: web, escritorio e infraestructura. Diseño y creo soluciones tecnológicas completas, con enfoque en arquitectura, eficiencia y una presentación cuidada. Ya sea una integración compleja, lógica backend o automatización — transformo ideas en software funcional y sólido.",
                            skills: "Habilidades Clave",
                            skills_list: ["Desarrollo fullstack (frontend + backend)", "Lenguajes: C++, C#, Python, Java, JavaScript, PHP", "Frameworks y librerías: Django, Vue.js, Node.js, Qt, .NET", "Aplicaciones de escritorio: Qt, WinForms, JavaFX, .NET", "DevOps: Linux, Git, Docker, CI/CD, automatización", "Integraciones CRM/API (Bitrix24, amoCRM, webhooks personalizados)", "Bases de datos: PostgreSQL, MySQL, SQLite, MongoDB", "Trabajo con REST APIs, JSON, XML, WebSocket"],
                            projects: "Proyectos",
                            project_list: [
                                { title: "Plugin para Minecraft", desc: "Una revisión completa con NPCs personalizados y narrativa." },
                                { title: "Sitio para compartir archivos", desc: "Mi clon personal de Google Drive en Django." },
                                { title: "Automatización de CRM", desc: "Integraciones Bitrix/Kommo y automatización de flujos." },
                                { title: "Plataforma de reservas", desc: "Desarrollo en curso para mi empresa." },
                            ],
                            certs: "Certificados",
                            certs_list: ["Cisco CCNA", "Python for Everybody", "Bitrix24 API", "Frontend Básico"],
                            degree: "Título universitario",
                            degree_text: "Último semestre de la universidad — ¡casi graduado!",
                        },

                        ru: {
                            title: "Фуллстек разработчик, DevOps-инженер и разработчик десктоп-приложений",
                            intro: "Я — Егор Павлов, инженер полного цикла. Мой стек охватывает всё: от фронтенда до серверной логики, от десктопа до DevOps-инфраструктуры. Я разрабатываю не просто интерфейсы или бэкенд — я создаю законченные технологические продукты. Умею решать сложные задачи, интегрировать системы, оптимизировать процессы и доводить всё до блеска. В моём арсенале — опыт, страсть к разработке и внимание к деталям.",
                            skills: "Ключевые навыки",
                            skills_list: ["Фуллстек-разработка (frontend + backend)", "Языки: C++, C#, Python, Java, JavaScript, PHP", "Фреймворки и библиотеки: Django, Vue.js, Node.js, Qt, .NET", "Десктоп-приложения (Qt, WinForms, JavaFX, .NET)", "DevOps: Linux, Git, Docker, CI/CD, автоматизация процессов", "Интеграции с CRM (Bitrix24, amoCRM), API, вебхуки", "Базы данных: PostgreSQL, MySQL, SQLite, MongoDB", "Работа с REST API, JSON, XML, WebSocket"],
                            projects: "Проекты",
                            project_list: [
                                { title: "Плагин для Minecraft", desc: "Модификация выживания с кастомными NPC и сюжетом." },
                                { title: "Сайт для обмена файлами", desc: "Мой аналог Google Drive на Django." },
                                { title: "Автоматизация CRM", desc: "Интеграции с Bitrix/Kommo и автоматизация процессов." },
                                { title: "Система бронирования", desc: "Текущий проект по внутреннему бронированию услуг." },
                            ],
                            certs: "Сертификаты",
                            certs_list: [
                                { name: "Сертификат Cisco", file: "./programador.png", desc: "Сертификат по основам сетевых технологий Cisco CCNA." },
                                { name: "Сертификат HTML/CSS", file: "./cert2.png", desc: "Сертификат по основам верстки HTML и CSS." },
                            ],

                            degree: "Диплом",
                            degree_text: "Последний семестр университета — почти выпустился!",
                        },
                    },

                    modalVisible: false,
                    modalContent: "",
                    modalImage: "",
                    modalDesc: "",
                },
                computed: {
                    t() {
                        return (key) => this.translations[this.lang][key];
                    },
                    currentTranslations() {
                        return this.translations[this.lang];
                    },
                },
                methods: {
                    getRandomColor() {
                        const colors = ["#0ff", "#00ffff", "#ff00ff", "#ff69b4", "#39ff14", "#ff1493", "#00ffff"];
                        return colors[Math.floor(Math.random() * colors.length)];
                    },
                    scrambleText(oldText, newText, element, callback) {
                        const chars = "!<>-_\\/[]{}—=+*^?#________";
                        let frame = 0;
                        const length = newText.length;
                        const animate = () => {
                            let output = "";
                            for (let i = 0; i < length; i++) {
                                if (i < frame) {
                                    const color = this.getRandomColor();
                                    output += `<span style="color:${color}; text-shadow: 0 0 5px ${color}, 0 0 10px ${color}">${newText[i]}</span>`;
                                } else {
                                    output += chars[Math.floor(Math.random() * chars.length)];
                                }
                            }
                            element.innerHTML = output;
                            frame++;
                            if (frame <= length) {
                                requestAnimationFrame(animate);
                            } else {
                                const finalColor = "#00ffff";
                                element.innerHTML = newText
                                    .split("")
                                    .map((ch) => `<span style="color:${finalColor}; text-shadow: 0 0 5px ${finalColor}, 0 0 10px ${finalColor}">${ch}</span>`)
                                    .join("");
                                if (callback) callback();
                            }
                        };
                        animate();
                    },
                    setLang(language) {
                        const textKeys = ["title", "intro", "skills", "skills_list", "projects", "project_list", "tools", "certs", "certs_list", "degree", "degree_text"];
                        textKeys.forEach((key) => {
                            const el = this.$refs[key];
                            if (!el) return;
                            const newText = this.translations[language][key];
                            if (Array.isArray(newText)) return;
                            this.scrambleText(this.translations[this.lang][key], newText, el);
                        });
                        const listMappings = [
                            ["skillsList", "skills_list"],
                            ["languagesList", "languages_list"],
                            ["frameworksList", "frameworks_list"],
                            ["toolsList", "tools_list"],
                            ["certsList", "certs_list"],
                        ];
                        listMappings.forEach(([refName, transKey]) => {
                            if (this.$refs[refName]) {
                                this.animateList(this.$refs[refName], this.translations[language][transKey]);
                            }
                        });
                        const degreeText = this.translations[language].degree_text;
                        if (this.$refs.degreeText) {
                            this.scrambleText(this.translations[this.lang].degree_text, degreeText, this.$refs.degreeText);
                        }
                        this.lang = language;
                    },
                    animateList(ulElement, items) {
                        ulElement.innerHTML = "";
                        let index = 0;
                        const addNext = () => {
                            if (index >= items.length) return;
                            const li = document.createElement("li");
                            ulElement.appendChild(li);
                            this.scrambleText("", items[index], li, () => {
                                index++;
                                addNext();
                            });
                        };
                        addNext();
                    },
                    initScrollAnimations() {
                        const observer = new IntersectionObserver(
                            (entries) => {
                                entries.forEach((entry) => {
                                    if (entry.isIntersecting) {
                                        entry.target.classList.add("animate__animated", "animate__fadeInUp");
                                        observer.unobserve(entry.target);
                                    }
                                });
                            },
                            { threshold: 0.2 }
                        );
                        this.$el.querySelectorAll(".scroll-animate").forEach((el) => {
                            observer.observe(el);
                        });
                    },
                    openImage(cert) {
                        this.modalImage = cert.file;
                        this.modalVisible = true;
                        this.$nextTick(() => {
                            const el = this.$refs.descText;
                            if (el) {
                                this.scrambleText("", cert.desc || "", el);
                            }
                        });
                    },
                    closeModal() {
                        this.modalVisible = false;
                        this.modalContent = "";
                        if (this.$refs.descText) this.$refs.descText.innerHTML = "";
                    },
                },
                mounted() {
                    const updateList = (refName, listKey) => {
                        if (this.$refs[refName]) {
                            const items = this.translations[this.lang][listKey];
                            this.$refs[refName].innerHTML = items.map((item) => `<li>${item}</li>`).join("");
                        }
                    };
                    [
                        ["skillsList", "skills_list"],
                        ["languagesList", "languages_list"],
                        ["frameworksList", "frameworks_list"],
                        ["toolsList", "tools_list"],
                        ["certsList", "certs_list"],
                    ].forEach(([ref, key]) => updateList(ref, key));
                    if (this.$refs.degreeText) {
                        this.$refs.degreeText.innerText = this.translations[this.lang].degree_text;
                    }
                    this.initScrollAnimations();
                },
            });
        </script>
    </body>
</html>
